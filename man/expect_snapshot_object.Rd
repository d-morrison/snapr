% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/expect_snapshot_object.R
\name{expect_snapshot_object}
\alias{expect_snapshot_object}
\title{Snapshot testing for R objects}
\usage{
expect_snapshot_object(x, name, writer = save_rds, ...)
}
\arguments{
\item{x}{An R object to snapshot. Can be any R object including lists,
models, data.frames, vectors, etc.}

\item{name}{\link{character} snapshot name (file extension will be added automatically)}

\item{writer}{\link{function} Function to write the object to a file. Default is \code{\link[=save_rds]{save_rds()}}.
Other options include \code{\link[=save_json]{save_json()}}, \code{\link[=save_deparse]{save_deparse()}}, \code{\link[=save_csv]{save_csv()}}.
Custom writer functions should accept \code{x} and return a file path.}

\item{...}{
  Arguments passed on to \code{\link[testthat:expect_snapshot_file]{testthat::expect_snapshot_file}}
  \describe{
    \item{\code{cran}}{Should these expectations be verified on CRAN? By default,
they are not, because snapshot tests tend to be fragile because they
often rely on minor details of dependencies.}
    \item{\code{compare}}{A function used to compare the old and new results. Defaults
to \code{compare_file_text()} for text files. For RDS files, uses \code{waldo::compare()}
to compare objects. For other binary files, uses \code{compare_file_binary()}.}
    \item{\code{variant}}{If not-\code{NULL}, results will be saved in
\verb{_snaps/\{variant\}/\{test\}/\{name\}}. This allows you to create variants for
experiments, or if the results are different on different operating
systems. Snapshot variant is set by the
\link[testthat:local_reproducible_output]{local_reproducible_output()} function and its friends. If you're developing
a package you can set it in the \code{tests/testthat/helper.R} file.}
  }
}
}
\value{
[NULL] (from \code{\link[testthat:expect_snapshot_file]{testthat::expect_snapshot_file()}})
}
\description{
A flexible wrapper around \code{\link[testthat:expect_snapshot_file]{testthat::expect_snapshot_file()}} that allows
snapshotting any R object, not just data.frames. This function provides
a convenient interface for snapshot testing with sensible defaults for
serialization.
}
\examples{
\dontrun{
# Snapshot a list (using RDS format by default)
expect_snapshot_object(list(a = 1, b = 2, c = "text"), name = "config")

# Snapshot a model
model <- lm(mpg ~ wt, data = mtcars)
expect_snapshot_object(model, name = "model")

# Snapshot with JSON format (for human-readable diffs)
expect_snapshot_object(iris[1:5, ], name = "iris_sample", writer = save_json)

# Snapshot with deparse format
expect_snapshot_object(list(x = 1:5), name = "simple_list", writer = save_deparse)
}
}
